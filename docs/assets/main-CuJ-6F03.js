function l(){const e=i()==="es"?"en":"es";localStorage.setItem("language",e),fetch(`i18n/${e}.json`).then(n=>n.json()).then(n=>{c(n)}).catch(n=>console.error("Error loading language file:",n))}window.languageToggle=l;function c(e){document.querySelectorAll("[data-i18n]").forEach(t=>{const o=t.getAttribute("data-i18n");e[o]&&(t.innerHTML=String(e[o]).replace(/\n/g,"<br/>"))})}function i(){return(localStorage.getItem("language")??navigator.language??navigator.userLanguage).startsWith("es")?"es":"en"}async function g(){const e=i();try{const n=await fetch(`i18n/${e}.json`);if(!n.ok)throw new Error(`Failed to load translation file: ${e}.json`);const t=await n.json();document.querySelectorAll("[data-i18n]").forEach(a=>{const s=a.getAttribute("data-i18n"),r=t[s];r?a.textContent=r:console.warn(`Translation key not found: ${s}`)})}catch(n){console.error("Error applying translations:",n)}}document.addEventListener("DOMContentLoaded",g);document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("under-construction-overlay"),n=document.getElementById("continue-button");if(e&&n){const t=localStorage.getItem("overlay_dismissed_at"),o=Date.now(),a=300*1e3;t&&o-parseInt(t,10)<a&&e.remove(),n.addEventListener("click",()=>{localStorage.setItem("overlay_dismissed_at",Date.now()),e.classList.add("opacity-0","pointer-events-none"),setTimeout(()=>{e.remove()},500)})}});
